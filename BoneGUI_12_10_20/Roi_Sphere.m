function Roi_Sphere()global pet_gui;global ROI;val=pet_gui.PopupValue;RoiKind='imellipse';RoiPosition=[236,236,40,40];if ROI{val}.RoiEmpty    ROI{val}.CenterCt=pet_gui.SliceNumber;    ROI{val}.RoiSpherical=true;    ROI{val}.RoiEnd=true;    ROI{val}.RoiEmpty=false;    Draw_RoiSpherical(RoiKind,RoiPosition);    set(pet_gui.PANELroi.PANEL3.TXT3b,'string',num2str(ROI{val}.CenterCt));    set(pet_gui.PANELroi.PANEL3.PB2,'enable','off');    %%% modifica 18/02/2011 - richiesta che alla selezione ROI    %%% Sferica venga automaticamentre abilitata per il processing    %%% e abilitata la creazione del file txt    set(pet_gui.PANELroi.PANEL4.CKBOX1,'value',1); Enable_Roi();    set(pet_gui.PANELroi.PANEL4.CKBOX2,'value',1); Enable_Txt();    set(pet_gui.PANELroi.radio2,'Value',1); Callback_Radio2();    %%% fine modificaelse    choice = questdlg('A ROI already exists. Do you want to clear the existing ROI?', ...        '!!Warning!!','Yes','No','No');    switch choice        case 'Yes'            Reset_Roi;            ROI{val}.CenterCt=pet_gui.SliceNumber;            ROI{val}.RoiSpherical=true;            ROI{val}.RoiEnd=true;            ROI{val}.RoiEmpty=false;            Draw_RoiSpherical(RoiKind,RoiPosition);            set(pet_gui.PANELroi.PANEL3.TXT3b,'string',num2str(ROI{val}.CenterCt));            set(pet_gui.PANELroi.PANEL3.PB2,'enable','off');            %%% modifica 18/02/2011 - richiesta che alla selezione ROI            %%% Sferica venga automaticamentre abilitata per il processing            %%% e abilitata la creazione del file txt            set(pet_gui.PANELroi.PANEL4.CKBOX1,'value',1); Enable_Roi();            set(pet_gui.PANELroi.PANEL4.CKBOX2,'value',1); Enable_Txt();            set(pet_gui.PANELroi.radio2,'Value',1); Callback_Radio2();            %%% fine modifica        case 'No'            return;    endendend