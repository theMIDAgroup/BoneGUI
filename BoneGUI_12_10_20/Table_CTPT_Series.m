%% Table_CTPT_Series()%% mida group http://mida.dima.unige.it - 2010/2015%%%% this function creates a mini gui for the selection of the data series:%%%% once the series are selected and the button 'SAVE' is pushed,%%%% it calls the function Select_CTPT_Series()%%%% called by: Load_Data()%%%% call: Select_CTPT_Series()function Table_CTPT_Series()global pet_gui;global f;global Info;CW=num2cell([70, 50, 115, 75, 60]);f.fig = figure('Position',[100 100 420 300]);set(f.fig,'MenuBar','none');set(f.fig,'NumberTitle','off');set(f.fig,'Color',pet_gui.bgc_light);columnname =   {'Modality', 'Series', 'Description', '# Images', 'Selected'};columnformat = {'char','numeric','char','numeric','logical'};columneditable =  [false false false false true];if isfield(Info,'FilePT')    for it = 1 : length(Info.FilePT)        datPT{it,1}='PT';        if isfield(Info,'SeriesNumberPT')            datPT{it,2}=Info.SeriesNumberPT(it);        else            datPT{it,2}=1000;        end        datPT{it,3}=Info.SeriesDescriptionPT{it};        datPT{it,4}=Info.NumberFilePT(it);        datPT{it,5}=false;    end    f.tPT = uitable('Units','normalized','Position',...        [0.05 0.10 0.9 0.15], 'Data', datPT,...        'ColumnName', [],...        'ColumnFormat', columnformat,...        'ColumnEditable', columneditable,...        'ColumnWidth',CW,...        'FontSize',pet_gui.fs,...        'RowName',[]);endif isfield(Info,'FileNM') %&& isvalid(Info.FileNM) %% isvalid by daniela    for it = 1 : length(Info.FileNM)        datNM{it,1}='NM';        if isfield(Info,'SeriesNumberNM')            datNM{it,2}=Info.SeriesNumberNM(it);        else            datNM{it,2}=1000;        end        datNM{it,3}=Info.SeriesDescriptionNM{it};        datNM{it,4}=Info.NumberFileNM(it);        datNM{it,5}=false;    end    f.tNM = uitable('Units','normalized','Position',...        [0.05 0.20 0.9 0.15], 'Data', datNM,...        'ColumnName', [],...        'ColumnFormat', columnformat,...        'ColumnEditable', columneditable,...        'ColumnWidth',CW,...        'FontSize',pet_gui.fs,...        'RowName',[]);endif isfield(Info,'FileCT')    for it = 1 : length(Info.FileCT)        datCT{it,1}='CT';        datCT{it,2}=    Info.SeriesNumberCT(it);        datCT{it,3}=    Info.SeriesDescriptionCT{it};        datCT{it,4}=    Info.NumberFileCT(it);        datCT{it,5}=    false;    end    f.tCT = uitable('Units','normalized','Position',...        [0.05 0.55 0.9 0.4], 'Data', datCT,...        'ColumnName', columnname,...        'ColumnFormat', columnformat,...        'ColumnEditable', columneditable,...        'ColumnWidth',CW,...        'FontSize',pet_gui.fs,...        'RowName',[]);endPBSelectCTPTSeries = uicontrol(f.fig,'style', 'pushbutton',...    'units', 'normal',...    'string', 'LOAD DICOM IMAGES',...    'position',[0.05 0.01 0.9 0.08],...    'BackGroundColor',pet_gui.bgc_light,...    'ForeGroundColor',pet_gui.fgc,...    'FontSize',pet_gui.fs,...    'callback', 'Select_CTPT_Series');end